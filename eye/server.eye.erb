require 'eye-http'

Eye.config do
  http :enable => true, :host => "0.0.0.0", :port => 10001
end

Eye.application '<%= hostname %>' do
  process :nginx do
    pid_file '/opt/nginx/logs/nginx.pid'
    start_command "service nginx start"
    restart_command "service nginx restart"
    stop_command "service nginx stop"

    restart_grace 30.seconds
  end
  
  process :postgresql do
    start_command "service postgresql start"
    restart_command "service postgresql restart"
    stop_command "service postgresql stop"

    restart_grace 30.seconds
  end
end
